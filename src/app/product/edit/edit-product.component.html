<h2>Edit a Product</h2>

<form #form="ngForm" (submit)="sendProduct(form, products.id)" novalidate>
    <div class="form-group" [class.has-error]="msgName.invalid && msgName.touched">
        <label for="name" class="control-label">Name</label>
        <input type="text" [(ngModel)]="products.name" #msgName="ngModel" ngModel name="name" class="form-control" placeholder="Name..." id="name" required />
    </div>

    <div class="form-group" [class.has-error]="msgDescription.invalid && msgDescription.touched">
        <label for="description" class="control-label">Description</label>
        <textarea [(ngModel)]="products.description" #msgDescription="ngModel" ngModel name="description" class="form-control" placeholder="Description..." id="description" required></textarea>
    </div>

    <div class="form-group" [class.has-error]="msgImage.invalid && msgImage.touched">
        <label for="image" class="control-label">Image</label>
        <input type="text" [(ngModel)]="products.image" #msgImage="ngModel" ngModel name="image" class="form-control" placeholder="Lien image..." id="image" required />
    </div>

    <div class="form-group" [class.has-error]="msgBrand.invalid && msgBrand.touched">
        <label for="brand" class="control-label">Brand</label>
        <select #msgBrand="ngModel" ngModel name="brand" class="form-control" id="brand" required>
            <option value="{{products.brand.id}}" selected>{{products.brand.name}}</option>
            <option *ngFor="let brand of brands" value="{{brand.id}}">{{brand.name}}</option>
        </select>
    </div>

    <div class="form-group" [class.has-error]="msgCategories.invalid && msgCategories.touched">
        <label for="categories" class="control-label">Categories</label>
        <select #msgCategories="ngModel" ngModel name="categories" class="form-control" id="categories" required>
            <option value="{{products.categories[0].id}}" selected>{{products.categories[0].name}}</option>
            <option *ngFor="let category of categories" value="{{category.id}}">{{category.name}}</option>
        </select>
    </div>

    <button type="submit" class="btn btn-default" [disabled]="form.invalid">Modifier</button>
</form>